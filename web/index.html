<html>
	<head>
		<title></title>
		<link rel="stylesheet" type="text/css" href="gameBuilder.css">
		<script type="text/javascript" src="js/engine.js"></script>
	</head>
	<body onload="startGameBuilder();">
		<canvas id="canvasOne" width="640" height="480">
			<p>This browser does not support canvas.</p>
		</canvas>
	</body>
	<script type="text/javascript">

	function startGameBuilder() {
		gameManager.startInterval(1);

		// CanvasOne
		var contextOne = document.getElementById('canvasOne').getContext('2d');
		var sceneManagerOne = gameManager.createSceneManager("sceneManagerOne", contextOne);
		var sceneOne = gameManager.createScene("sceneOne");

		// snow effect
		sceneOne.addSceneObject(gameManager.createSceneObject("sceneObjectOne", function(sceneObject) {
			// initialize
			sceneObject.particles = [];
			for (var i = 0; i < 500; i++) {
				sceneObject.particles.push({ x: Math.random() * 640, y: Math.random() * 480 });
			}
		}, function() {
			// update
			// var particle = this.particles[]
			this.particles.forEach(function(particle) {
				particle.y++;
				particle.x+= Math.random() * 2 - 1

				if (particle.y > 480) {
					particle.y = 0;
				}
				if (particle.x > 644) {
					particle.x = 0;
				}
				if (particle.x < -4) {
					particle.x = 640;
				}
			});

		}, function(ctx) {
			// render
			this.particles.forEach(function(particle) {
				ctx.fillStyle = "rgba(0, 200, 0, 0.5)";
			    ctx.fillRect (particle.x, particle.y, 4, 4);
			});
		}));

		sceneManagerOne.setScene(sceneOne);
	}

	</script>
</html>